
base:
  user: todoroki
  keyfile: $KEYFILE
  sudopass: $SUDOPASS
  nodes:
    worker-1:
      address: 10.20.22.158
    worker-2:
      address: 10.20.22.159
    worker-3:
      address: 10.20.22.161
    worker-4:
      address: 10.20.22.162
    worker-5:
      address: 10.20.22.163
    manager:
      address: 10.20.22.164
      is_manager: true


systems:
  type: kafka
  duration: 120s
  broker:
    zookeeper:
      zoo-1:
        node_name: worker-1
        environment:
          ZOOKEEPER_SERVER_ID: 1
          ZOOKEEPER_CLIENT_PORT: 2181
          ZOOKEEPER_TICK_TIME: 2000
          ZOOKEEPER_SERVERS: zoo-1:2888:3888
      zoo-2:
        node_name: worker-2
        environment:
          ZOOKEEPER_SERVER_ID: 1
          ZOOKEEPER_CLIENT_PORT: 2181
          ZOOKEEPER_TICK_TIME: 2000
          ZOOKEEPER_SERVERS: zoo-2:2888:3888
      zoo-3:
        node_name: worker-3
        environment:
          ZOOKEEPER_SERVER_ID: 1
          ZOOKEEPER_CLIENT_PORT: 2181
          ZOOKEEPER_TICK_TIME: 2000
          ZOOKEEPER_SERVERS: zoo-3:2888:3888
      zoo-4:
        node_name: worker-4
        environment:
          ZOOKEEPER_SERVER_ID: 1
          ZOOKEEPER_CLIENT_PORT: 2181
          ZOOKEEPER_TICK_TIME: 2000
          ZOOKEEPER_SERVERS: zoo-4:2888:3888
      zoo-5:
        node_name: worker-5
        environment:
          ZOOKEEPER_SERVER_ID: 1
          ZOOKEEPER_CLIENT_PORT: 2181
          ZOOKEEPER_TICK_TIME: 2000
          ZOOKEEPER_SERVERS: zoo-5:2888:3888
          
    kafka:
      kafka-1:
        node_name: worker-1
        environment:
          KAFKA_BROKER_ID: 1
          KAFKA_ZOOKEEPER_CONNECT: zoo-1:2181
          KAFKA_ADVERTISED_LISTENERS: INSIDE://kafka-1:9092
          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INSIDE:PLAINTEXT
          KAFKA_INTER_BROKER_LISTENER_NAME: INSIDE
      kafka-2:
        node_name: worker-2
        environment:
          KAFKA_BROKER_ID: 1
          KAFKA_ZOOKEEPER_CONNECT: zoo-2:2181
          KAFKA_ADVERTISED_LISTENERS: INSIDE://kafka-2:9092
          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INSIDE:PLAINTEXT
          KAFKA_INTER_BROKER_LISTENER_NAME: INSIDE
      kafka-3:
        node_name: worker-3
        environment:
          KAFKA_BROKER_ID: 1
          KAFKA_ZOOKEEPER_CONNECT: zoo-3:2181
          KAFKA_ADVERTISED_LISTENERS: INSIDE://kafka-3:9092
          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INSIDE:PLAINTEXT
          KAFKA_INTER_BROKER_LISTENER_NAME: INSIDE
      kafka-4:
        node_name: worker-4
        environment:
          KAFKA_BROKER_ID: 1
          KAFKA_ZOOKEEPER_CONNECT: zoo-4:2181
          KAFKA_ADVERTISED_LISTENERS: INSIDE://kafka-4:9092
          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INSIDE:PLAINTEXT
          KAFKA_INTER_BROKER_LISTENER_NAME: INSIDE
      kafka-5:
        node_name: worker-5
        environment:
          KAFKA_BROKER_ID: 1
          KAFKA_ZOOKEEPER_CONNECT: zoo-5:2181
          KAFKA_ADVERTISED_LISTENERS: INSIDE://kafka-5:9092
          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INSIDE:PLAINTEXT
          KAFKA_INTER_BROKER_LISTENER_NAME: INSIDE

  # type: nats
  # duration: 120s
  # broker:
  #   nats:
  #     nats-1:
  #         node_name: "worker-1"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-2:
  #         node_name: "worker-2"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-3:
  #         node_name: "worker-3"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-4:
  #         node_name: "worker-4"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-5:
  #         node_name: "worker-5"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-6:
  #         node_name: "worker-1"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-7:
  #         node_name: "worker-2"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-8:
  #         node_name: "worker-3"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-9:
  #         node_name: "worker-4"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-10:
  #         node_name: "worker-5"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-11:
  #         node_name: "worker-1"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-12:
  #         node_name: "worker-2"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-13:
  #         node_name: "worker-3"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-14:
  #         node_name: "worker-4"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-15:
  #         node_name: "worker-5"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-16:
  #         node_name: "worker-1"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-17:
  #         node_name: "worker-2"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-18:
  #         node_name: "worker-3"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-19:
  #         node_name: "worker-4"
  #         command: "-c /tmp/configs/core.conf"
  #     nats-20:
  #         node_name: "worker-5"
  #         command: "-c /tmp/configs/core.conf"
      
  publisher:
    nats-pub-1:
      node_name: 'worker-1'
      command: '-d nats -c ./configs/natsconf.yaml'
  subscriber:
    nats-sub-1:
      node_name: 'worker-1'
      command: '-d nats -c ./configs/natsconf.yaml'